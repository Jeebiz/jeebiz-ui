  <title>服务监控</title>

<div class="layui-card layadmin-header">
    <div class="layui-breadcrumb" lay-filter="breadcrumb">
        <a lay-href="">系统安全</a>
        <a><cite>服务监控</cite></a>
    </div>
</div>

<div class="layui-fluid" id="LAY-monitor-grid">
    <div class="layui-row layui-col-space10">
        <script type="text/html" template lay-url="{{ layui.setter.prefix }}/server/info"
            lay-done="layui.form.render();">
        <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
            <div class="layui-card">
                <div class="layui-card-header">CPU</div>
                <div class="layui-card-body">
                    <table cellspacing="0" style="width: 100%; border-width: 0px;" class="layui-table" lay-skin="line">
                        <thead>
                            <tr>
                                <th class="is-leaf">
                                    <div class="cell">属性</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">值</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="cell">核心数</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.cpu.cpuNum }}</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">用户使用率</div>
                                </td>
                                <td>
                                    <div class="cell" {{# if(d.data.cpu.user > 80){ }}class="text-danger"{{#  } }}>{{ d.data.cpu.user }}%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">系统使用率</div>
                                </td>
                                <td>
                                    <div class="cell" {{# if(d.data.cpu.sys > 80){ }}class="text-danger"{{#  } }} >{{ d.data.cpu.sys }}%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">当前空闲率</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.cpu.free }}%</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
            <div class="layui-card">
                <div class="layui-card-header">内存</div>
                <div class="layui-card-body">
                    <table cellspacing="0" style="width: 100%; border-width: 0px;" class="layui-table" lay-skin="line">
                        <thead>
                            <tr>
                                <th class="is-leaf">
                                    <div class="cell">属性</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">内存</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">JVM</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="cell">总内存</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.mem.total }}G</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.total }}M</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">已用内存</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.mem.used}}G</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.used}}M</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">剩余内存</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.mem.free }}G</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.free }}M</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">使用率</div>
                                </td>
                                <td>
                                    <div class="cell" {{# if(d.data.mem.usage > 80){ }}class="text-danger"{{#  } }}>
                                        {{ d.data.mem.usage }}%</div>
                                </td>
                                <td>
                                    <div class="cell" {{# if(d.data.jvm.usage > 80){ }}class="text-danger"{{#  } }} >
                                        {{ d.data.jvm.usage }}%</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm12 layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">服务器信息</div>
                <div class="layui-card-body">
                    <table cellspacing="0" style="width: 100%; border-width: 0px;" class="layui-table" lay-skin="line">
                        <tbody>
                            <tr>
                                <td>
                                    <div class="cell">服务器名称</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.sys.computerName }}</div>
                                </td>
                                <td>
                                    <div class="cell">操作系统</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.sys.osName }}</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">服务器IP</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.sys.computerIp }}</div>
                                </td>
                                <td>
                                    <div class="cell">系统架构</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.sys.osArch }}</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm12 layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">Java虚拟机信息</div>
                <div class="layui-card-body">
                    <table cellspacing="0" style="width: 100%; border-width: 0px;" class="layui-table" lay-skin="line">
                        <tbody>
                            <tr>
                                <td>
                                    <div class="cell">Java名称</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.name }}</div>
                                </td>
                                <td>
                                    <div class="cell">Java版本</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.version }}</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cell">启动时间</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.startTime }}</div>
                                </td>
                                <td>
                                    <div class="cell">运行时长</div>
                                </td>
                                <td>
                                    <div class="cell">{{ d.data.jvm.runTime }}</div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="1">
                                    <div class="cell">安装路径</div>
                                </td>
                                <td colspan="3">
                                    <div class="cell">{{ d.data.jvm.home }}</div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="1">
                                    <div class="cell">项目路径</div>
                                </td>
                                <td colspan="3">
                                    <div class="cell">{{ d.data.sys.userDir }}</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm12 layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">磁盘状态</div>
                <div class="layui-card-body">
                    <table cellspacing="0" style="width: 100%; border-width: 0px;" class="layui-table" lay-skin="line">
                        <thead>
                            <tr>
                                <th class="is-leaf">
                                    <div class="cell">盘符路径</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">文件系统</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">盘符类型</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">总大小</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">可用大小</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">已用大小</div>
                                </th>
                                <th class="is-leaf">
                                    <div class="cell">已用百分比</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody v-if="server.sysFiles">
                            {{# if(d.data.disks && d.data.disks.length > 0){ }}
                                {{#  layui.each(d.data.disks, function(index, disk){ }}
                                <tr>
                                    <td>
                                        <div class="cell">{{ disk.mount }}</div>
                                    </td>
                                    <td>
                                        <div class="cell">{{ disk.name }}</div>
                                    </td>
                                    <td>
                                        <div class="cell">{{ disk.type }}</div>
                                    </td>
                                    <td>
                                        <div class="cell">{{ disk.total }}</div>
                                    </td>
                                    <td>
                                        <div class="cell">{{ disk.free }}</div>
                                    </td>
                                    <td>
                                        <div class="cell">{{ disk.used }}</div>
                                    </td>
                                    <td>
                                        <div class="cell" {{# if(disk.usage > 80){ }}class="text-danger"{{#  } }} > {{ disk.usage }}%
                                        </div>
                                    </td>
                                </tr>
                                {{#  }); }}
                            {{#  } else { }}
                            <tr>
                                <td>
                                    <div class="cell">没有发现磁盘！</div>
                                </td>
                            </tr>
                            {{# } }}

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        </script>
    </div>
</div>


<script type="text/javascript">
    layui.use('monitor', layui.factory('monitor'));
</script>
